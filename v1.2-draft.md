# NHID-Clinical v1.2 (Working Draft)

## Section Updates & Issue Resolutions

### 1.5 Bot-to-Bot Interaction Workflow (Resolves Issue #1)
**Problem:** Deadlocks occur when a compliant Provider AI reads a disclosure to a Payer IVR that expects immediate data input.
**Resolution:**
If the Provider AI detects that the answering entity is also an automated system (IVR/Bot) via silence patterns, audio fingerprinting, or signaling:
1.  **Modified Disclosure:** The Provider AI remains bound by the Requirement to Disclose but MAY condense the disclosure string to the shortest distinct phrase (e.g., "Automated Caller").
2.  **Deadlock Prevention:** If the Payer IVR fails to acknowledge the disclosure after 2 attempts, the Provider AI is permitted to proceed to **Data Exchange** to prevent a deadlock loop, provided that the call is logged as "Automated-to-Automated" in the Audit Trail.
* *Rationale:* Impersonation risk is nullified when no human is present to be deceived.

### 4.3 Network-Layer Identity / Tier 3 Evidence (Resolves Issue #2)
**Problem:** Audio-only disclosure is prone to transcription errors in VoIP/SIP environments.
**Resolution:**
For VoIP-native interactions, entities MAY implement Tier 3 Identity Assertion using standard SIP headers. This serves as cryptographic proof of identity, bypassing the need for audio transcription verification.

**Standard Header Format:**
* `X-AI-Agent-ID`: [Unique-Agent-UUID]
* `X-AI-Provider-NPI`: [Provider-NPI]
* `X-Disclosure-Mode`: "v1.1-Audio"

**Verification:** If a Payer system receives valid Tier 3 headers, they MAY cryptographically whitelist the Agent and bypass audio CAPTCHAs or verbal verification steps, effectively reducing Impersonation Latency to zero.

### 1.3.1 Handling IVR Interruptions & Timeouts (Resolves Issue #3)
**Problem:** Payer IVRs with short timeouts or barge-in logic cut off the AI's disclosure.
**Resolution:**
When calling an automated Payer IVR, the Provider AI Agent is permitted to modify the disclosure timing to accommodate strict timeout windows (e.g., <3 seconds).

**The "Combined Turn" Exception:**
If a Payer IVR interrupts the AI or times out during the standalone disclosure, the AI Agent is permitted to combine the **Identity Disclosure** and the **Operational Data** into a single speaking turn on the retry.
* *Standard:* "Hello, I am an automated assistant." (Pause for acknowledgement)
* *Resilience Mode (Permitted):* "This is an automated assistant for Dr. Smith, NPI 1-2-3-4-5-6."

**Retry Logic:** The AI MUST attempt standalone disclosure at least once. If the IVR indicates a "No Match" or "Timeout" error, the AI initiates Resilience Mode for subsequent turns.

### 3.2 Escalation Transfer Tiers (Resolves Issue #4)
**Problem:** Not all call centers support "Warm Transfers" with data context, leaving AI agents unsure how to escalate compliantly.
**Resolution:**
The standard recognizes two compliant methods for handing off context to a human agent. Organizations MUST implement at least one.

**Type A: Warm Transfer (Preferred)**
* **Definition:** CTI (Computer Telephony Integration) data payload accompanies the call.
* **Requirement:** The human agent receives the `Reference_ID` and `Summary_Object` on their screen prior to or at the moment of connection.

**Type B: Cold Transfer with Verbal Handoff (Minimum Viable)**
* **Definition:** No CTI data transfer; legacy telephony switch.
* **Requirement:** The AI Agent MUST remain on the line after the human answers. The Agent MUST verbally recite the `Reference_ID` and a one-sentence `Intent_Summary` (e.g., *"This is AI Agent referring to claim #123 for Dr. Smith, verified eligibility, requesting status."*) before disconnecting.
* **Compliance Note:** Simply transferring the call without a verbal briefing or data payload is **Non-Compliant**.

### 2.4.1 Failover Confirmation Logging (Resolves Issue #5)
**Problem:** Voicemails and callbacks often fail silently, creating liability for missed filing deadlines.
**Resolution:**
To prevent "silent failure," the AI Agent MUST log a positive confirmation artifact for all failover events.
* **Voicemail Path:** The Agent MUST record the timestamp of the voicemail completion and the system response code (if SIP/VoIP) or a successful termination signal. If the voicemail system rejects the message (e.g., "Mailbox Full"), the Agent MUST log the failure and attempt to route to an alternative path or disconnect with a specific "Failure to Leave Message" log entry.
* **Callback Path:** When a callback is scheduled, the Agent MUST generate a unique **Callback Ticket ID**. This ID must be auditable against the Payer's callback queue to verify the request was ingested.
* **SLA Disclosure:** The Agent MUST NOT promise a callback timeframe (e.g., "within 24 hours") unless that timeframe is contractually guaranteed by the Payer's SLA. If no SLA exists, the Agent MUST state: *"A representative will return your call as soon as possible,"* without specifying a time.
